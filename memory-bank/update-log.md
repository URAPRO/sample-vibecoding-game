# アップデートログ

## Ver 1.0: 基本ゲーム機能実装

### 実装機能
- **コアゲームメカニクス**
  - プレイヤーの自動前進と左右移動
  - カメラの追従
  - 障害物の生成と衝突判定
  - スコア計算と表示

### 詳細
- **基本環境の構築**
  - three.js環境のセットアップ
  - シーン、カメラ、レンダラーの初期化
  - 基本的なライトの設定
  - レンダリングループの実装
  - ウィンドウリサイズ対応

- **プレイヤーと環境**
  - 地面（Plane）の作成と表示
  - プレイヤー（Cube）の作成と表示
  - 4つのレーンの定義
  - キーボード入力による左右レーン移動の実装

- **ゲームメカニクス**
  - プレイヤーの自動前進（Z軸移動）
  - カメラの追従
  - 障害物生成と管理
  - 衝突判定（Box3）の実装

- **ゲームフローとUI**
  - ゲーム状態管理（開始前、プレイ中、ゲームオーバー）
  - スコア表示とゲームメッセージの実装
  - スペースキーによるゲーム開始
  - Rキーによるリスタート機能

### 技術的改善
- 地面が徐々に画面外に出てしまう問題の修正
  - 地面の位置をカメラの位置に連動させることで解決

## Ver 1.1: スピードアップアイテム機能追加

### 実装機能
- **アイテムシステム**
  - スピードアップアイテムの実装
  - アイテム効果の時間管理
  - アイテム獲得の衝突判定

### 詳細
- **速度管理システム**
  - baseSpeedとcurrentGameSpeedの導入
  - 速度変数の適用とパラメータ調整

- **アイテム関連機能**
  - アイテムメッシュ（黄色い球体）の生成
  - アイテム管理用配列の準備
  - オブジェクト生成ロジックの拡張（1/3の確率でアイテム生成）
  - アイテム削除ロジックの追加

- **スピードアップ効果**
  - アイテム獲得処理の実装
  - スピードアップの倍率（1.5倍）と効果時間（5秒）の設定
  - タイマーによる効果時間管理
  - 効果中の再獲得時のタイマーリセット

- **ゲームリスタート時の対応**
  - リスタート処理の修正
  - アイテム配列のクリアとスピードアップ効果のリセット

## Ver 1.2: ビジュアルエフェクト追加

### 実装機能
- **トレイルエフェクト**（プレイヤー追従）
  - プレイヤー後方からのパーティクル放出
  - パーティクルの寿命と移動の管理

- **レーン変更エフェクト**（左右移動時）
  - 地面への一時的なマーカー表示
  - フェードアウトアニメーション

- **アイテム取得エフェクト**
  - アイテム獲得時の拡大・フェードアウト
  - アニメーション管理システム

- **障害物衝突エフェクト**（ゲームオーバー時）
  - 画面シェイク効果
  - 破片パーティクル生成と物理挙動

### 詳細
- **パーティクルシステム**
  - BufferGeometryとPointsMaterialによるパーティクル実装
  - パーティクル管理配列と生成ロジック
  - フレームレート非依存のアニメーション

- **視覚効果の管理**
  - 各種エフェクト用の管理配列の導入
  - 透明度とスケールのアニメーション
  - エフェクトのパラメータ調整と最適化

- **物理アニメーション**
  - 破片の重力効果と回転
  - ランダム性を持つ動きの実現

- **ゲームリスタート対応**
  - エフェクト関連の配列とオブジェクトのクリア
  - 全エフェクトの適切なリセット 